---
import { getPublishedArticles } from '../../lib/articles';

import MarkdownPostLayout from '../../layouts/MarkdownPostLayout.astro';
import Prose from '../../components/Prose.astro';

export async function getStaticPaths() {
    return (await getPublishedArticles()).map((article) => ({
        params: { slug: article.slug },
        props: { article }
    }));
}

const { article } = Astro.props;
const { Content } = await article.render();
---

<MarkdownPostLayout article={article}>
    <Prose>
        <Content />
    </Prose>
</MarkdownPostLayout>
